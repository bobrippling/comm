Comm v2.0

Protocol
--------

	<TYPE><DATA>\n

See poorman\'s\ tcomm.sh for a netcat example


Message Types
-------------

Client -> Server:
	NAME %s
		client name - login request with name %s
	MESSAGE %s
		client sends a message to all
	CLIENT_LIST
		server replies like so:
			CLIENT_LIST_START
			CLIENT_LIST %s
			CLIENT_LIST_END
			for each client except the queryer
	RENAME %s
		_request_ to change name
			server replies with ERR if unsuccessful
	SU %s
		_request_ root-control of server with md5'd password
			if unsuccessful, an ERR message is returned
			otherwise, the server may optionally send an
			informational message (INFO)
	KICK %s
		ROOT request to kick user

Server -> Client:
	CLIENT_CONN %s
		a new client has connected, [b]with name[/b]
	CLIENT_DISCO %s
		authenticated (named) client disconnected
	ERR %s
		client message error
	CLIENT_LIST*
		see (client->server)::CLIENT_LIST
	MESSAGE %s
		message from server to all
	INFO %s
		server informational message
	RENAME %s %s
		client %s[0] renamed to %s[1]



Initial Contact/Handshake
---------------

Server sends
Comm v$VERSION Optional-Server-Desc
where version is something like 1.2 (always in the form %d.%d)

client either disconnects, or continues with the following
NAME Timmy
the server then responds with ERR %s or OK
if ERR, server then closes the connection

otherwise the handshake is successful

If user logs in with ROOT, they have access to extra
functionality, such as KICK

 vim: ft=help ts=4
